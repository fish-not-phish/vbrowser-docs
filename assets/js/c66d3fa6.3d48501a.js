"use strict";(globalThis.webpackChunkvbrowser_documentation=globalThis.webpackChunkvbrowser_documentation||[]).push([[40],{3837(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"installation/environment-variables","title":"Environment Variables","description":"Open vBrowser (OvB) uses environment variables as the single source of configuration truth across all components. All services consume the same .env file generated during setup.","source":"@site/docs/installation/environment-variables.md","sourceDirName":"installation","slug":"/installation/environment-variables","permalink":"/docs/installation/environment-variables","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Setup Script","permalink":"/docs/installation/script-setup"},"next":{"title":"Teardown","permalink":"/docs/installation/teardown"}}');var r=i(4848),d=i(8453);const t={sidebar_position:5},l="Environment Variables",c={},o=[{value:"Configuration Model",id:"configuration-model",level:2},{value:"Core Application Settings",id:"core-application-settings",level:2},{value:"Admin User Configuration",id:"admin-user-configuration",level:2},{value:"Database Configuration",id:"database-configuration",level:2},{value:"Redis Configuration",id:"redis-configuration",level:2},{value:"AWS Configuration",id:"aws-configuration",level:2},{value:"Cloudflare Configuration",id:"cloudflare-configuration",level:2},{value:"Logging &amp; Debugging Variables",id:"logging--debugging-variables",level:2},{value:"Variable Propagation",id:"variable-propagation",level:2},{value:"Safe Modification Guidelines",id:"safe-modification-guidelines",level:2},{value:"Next Steps",id:"next-steps",level:2}];function a(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"environment-variables",children:"Environment Variables"})}),"\n",(0,r.jsxs)(n.p,{children:["Open vBrowser (OvB) uses environment variables as the ",(0,r.jsx)(n.strong,{children:"single source of configuration truth"})," across all components. All services consume the same ",(0,r.jsx)(n.code,{children:".env"})," file generated during setup."]}),"\n",(0,r.jsxs)(n.p,{children:["This document explains ",(0,r.jsx)(n.strong,{children:"every supported environment variable"}),", its purpose, and safe usage guidance."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"configuration-model",children:"Configuration Model"}),"\n",(0,r.jsx)(n.p,{children:"OvB follows a strict configuration model:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["All configuration is stored in ",(0,r.jsx)(n.code,{children:".env"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".env"})," is generated by ",(0,r.jsx)(n.code,{children:"setup.sh"})]}),"\n",(0,r.jsxs)(n.li,{children:["The same ",(0,r.jsx)(n.code,{children:".env"})," file is propagated to all services"]}),"\n",(0,r.jsx)(n.li,{children:"No service-specific configuration files exist"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This ensures consistency and predictable behavior."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"core-application-settings",children:"Core Application Settings"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Variable"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"SECRET_KEY"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Django cryptographic secret"}),(0,r.jsx)(n.td,{children:"Auto-generated"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"DEBUG"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Enables debug mode"}),(0,r.jsx)(n.td,{children:"Must be False in production"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CUSTOM_DOMAIN"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Primary domain for OvB"}),(0,r.jsx)(n.td,{children:"Used for API and UI"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ALLOWED_HOSTS"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Django allowed hosts"}),(0,r.jsx)(n.td,{children:"Auto-generated"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"USER_EMAIL"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Primary admin email"}),(0,r.jsx)(n.td,{children:"Auto-generated"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"LOGGER_ENABLED"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Enables verbose logging"}),(0,r.jsx)(n.td,{children:"Use only for troubleshooting"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"DEFAULT_IDLE_THRESHOLD"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Session idle timeout (minutes)"}),(0,r.jsx)(n.td,{children:"Auto-close inactive sessions"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"admin-user-configuration",children:"Admin User Configuration"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Variable"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"DJANGO_SUPERUSER_USERNAME"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Initial admin username"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"DJANGO_SUPERUSER_EMAIL"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Initial admin email"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"DJANGO_SUPERUSER_PASSWORD"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Initial admin password"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"These credentials are created automatically on first startup."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"database-configuration",children:"Database Configuration"}),"\n",(0,r.jsx)(n.p,{children:"OvB uses PostgreSQL for persistent state."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Variable"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"DB_NAME"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Database name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"DB_USER"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Database username"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"DB_PASSWORD"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Database password"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"DB_HOST"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Database hostname"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"DB_PORT"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Database port"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Database credentials are consumed only by backend services."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"redis-configuration",children:"Redis Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["Redis is used for ",(0,r.jsx)(n.strong,{children:"ephemeral coordination and caching"}),"."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Variable"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"REDIS_URL"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Redis connection string"})]})})]}),"\n",(0,r.jsx)(n.p,{children:"Redis does not store long-lived data."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"aws-configuration",children:"AWS Configuration"}),"\n",(0,r.jsx)(n.p,{children:"AWS credentials are required for Terraform and runtime services."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Variable"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"AWS_ACCESS_KEY_ID"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"AWS access key"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"AWS_SECRET_ACCESS_KEY"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"AWS secret key"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"AWS_DEFAULT_REGION"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Deployment region"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"SUBNET_ID"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Target subnet for ECS"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"SECURITY_GROUP_ID"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Security group for ECS"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ECR_REGISTRY"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"ECR registry URL"})]})]})]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:["AWS credentials must be protected.\nDo not commit ",(0,r.jsx)(n.code,{children:".env"})," files to version control."]})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"cloudflare-configuration",children:"Cloudflare Configuration"}),"\n",(0,r.jsx)(n.p,{children:"Cloudflare credentials are required for DNS automation."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Variable"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CF_Zone_ID"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Cloudflare zone identifier"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CF_Token"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Cloudflare API token"})]})]})]}),"\n",(0,r.jsx)(n.admonition,{type:"important",children:(0,r.jsxs)(n.p,{children:["The API token must have ",(0,r.jsx)(n.strong,{children:"Zone DNS Edit"})," permissions only."]})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"logging--debugging-variables",children:"Logging & Debugging Variables"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Variable"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"LOGGER_ENABLED"}),(0,r.jsx)(n.td,{children:"Enables verbose logging"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"DEBUG"}),(0,r.jsx)(n.td,{children:"Enables Django debug mode"})]})]})]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:"Verbose logging may expose sensitive metadata.\nDisable logging in production unless troubleshooting."})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"variable-propagation",children:"Variable Propagation"}),"\n",(0,r.jsxs)(n.p,{children:["The generated ",(0,r.jsx)(n.code,{children:".env"})," file is copied into:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"django/.env"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"docker/containers-update/.env"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"docker/vbrowser-stack/.env"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"No runtime service should diverge from this configuration."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"safe-modification-guidelines",children:"Safe Modification Guidelines"}),"\n",(0,r.jsx)(n.p,{children:"Operators should:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Modify environment variables only via ",(0,r.jsx)(n.code,{children:"setup.sh"})]}),"\n",(0,r.jsx)(n.li,{children:"Avoid manual edits unless necessary"}),"\n",(0,r.jsx)(n.li,{children:"Re-run setup after major changes"}),"\n",(0,r.jsx)(n.li,{children:"Perform teardown before sensitive changes"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Misconfiguration can result in:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Failed deployments"}),"\n",(0,r.jsx)(n.li,{children:"Security exposure"}),"\n",(0,r.jsx)(n.li,{children:"Unexpected runtime behavior"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsx)(n.p,{children:"After understanding configuration variables:"}),"\n",(0,r.jsxs)(n.p,{children:["Continue to ",(0,r.jsx)(n.strong,{children:"Teardown"})]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453(e,n,i){i.d(n,{R:()=>t,x:()=>l});var s=i(6540);const r={},d=s.createContext(r);function t(e){const n=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);