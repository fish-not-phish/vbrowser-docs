"use strict";(globalThis.webpackChunkvbrowser_documentation=globalThis.webpackChunkvbrowser_documentation||[]).push([[573],{8453(e,n,r){r.d(n,{R:()=>t,x:()=>d});var s=r(6540);const o={},i=s.createContext(o);function t(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),s.createElement(i.Provider,{value:n},e.children)}},8886(e,n,r){r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"installation/teardown","title":"Teardown","description":"Open vBrowser (OvB) provides a controlled and repeatable teardown process to fully destroy all deployed infrastructure and services. Teardown is an intentional part of the security and operational lifecycle and should be used regularly.","source":"@site/docs/installation/teardown.md","sourceDirName":"installation","slug":"/installation/teardown","permalink":"/docs/installation/teardown","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Environment Variables","permalink":"/docs/installation/environment-variables"},"next":{"title":"Browsers","permalink":"/docs/category/browsers"}}');var o=r(4848),i=r(8453);const t={sidebar_position:6},d="Teardown",l={},a=[{value:"Purpose of Teardown",id:"purpose-of-teardown",level:2},{value:"Teardown Script",id:"teardown-script",level:2},{value:"What the Teardown Removes",id:"what-the-teardown-removes",level:2},{value:"AWS Resources",id:"aws-resources",level:3},{value:"Local Resources",id:"local-resources",level:3},{value:"What the Teardown Does NOT Remove",id:"what-the-teardown-does-not-remove",level:2},{value:"When to Use Teardown",id:"when-to-use-teardown",level:2},{value:"Teardown and State Management",id:"teardown-and-state-management",level:2},{value:"Common Teardown Issues",id:"common-teardown-issues",level:2},{value:"Redeployment After Teardown",id:"redeployment-after-teardown",level:2},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"teardown",children:"Teardown"})}),"\n",(0,o.jsxs)(n.p,{children:["Open vBrowser (OvB) provides a controlled and repeatable teardown process to ",(0,o.jsx)(n.strong,{children:"fully destroy all deployed infrastructure and services"}),". Teardown is an intentional part of the security and operational lifecycle and should be used regularly."]}),"\n",(0,o.jsxs)(n.p,{children:["This document explains ",(0,o.jsx)(n.strong,{children:"what teardown does"}),", ",(0,o.jsx)(n.strong,{children:"when it should be used"}),", and ",(0,o.jsx)(n.strong,{children:"what operators should expect"}),"."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"purpose-of-teardown",children:"Purpose of Teardown"}),"\n",(0,o.jsx)(n.p,{children:"Teardown exists to:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Remove all cloud infrastructure created by OvB"}),"\n",(0,o.jsx)(n.li,{children:"Eliminate lingering attack surface"}),"\n",(0,o.jsx)(n.li,{children:"Prevent unnecessary cloud costs"}),"\n",(0,o.jsx)(n.li,{children:"Reset environments cleanly"}),"\n",(0,o.jsx)(n.li,{children:"Support safe redeployment"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["OvB environments are designed to be ",(0,o.jsx)(n.strong,{children:"created and destroyed"}),", not kept indefinitely."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"teardown-script",children:"Teardown Script"}),"\n",(0,o.jsxs)(n.p,{children:["Teardown is performed using the provided ",(0,o.jsx)(n.code,{children:"destroy.sh"})," script located in the ",(0,o.jsx)(n.code,{children:"terraform/"})," directory."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cd terraform\n./destroy.sh\n"})}),"\n",(0,o.jsxs)(n.p,{children:["The script requires ",(0,o.jsx)(n.strong,{children:"no user input"})," and performs a full teardown automatically."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"what-the-teardown-removes",children:"What the Teardown Removes"}),"\n",(0,o.jsx)(n.p,{children:"The teardown process destroys:"}),"\n",(0,o.jsx)(n.h3,{id:"aws-resources",children:"AWS Resources"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"ECS clusters and services"}),"\n",(0,o.jsx)(n.li,{children:"ECS task definitions"}),"\n",(0,o.jsx)(n.li,{children:"ECR repositories"}),"\n",(0,o.jsx)(n.li,{children:"IAM roles and policies created for OvB"}),"\n",(0,o.jsx)(n.li,{children:"CloudWatch log groups"}),"\n",(0,o.jsx)(n.li,{children:"Networking resources created by Terraform"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"local-resources",children:"Local Resources"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Docker containers started by OvB"}),"\n",(0,o.jsx)(n.li,{children:"Docker networks created for OvB"}),"\n",(0,o.jsx)(n.li,{children:"Docker volumes associated with OvB services"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"After teardown, no OvB-managed resources should remain."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"what-the-teardown-does-not-remove",children:"What the Teardown Does NOT Remove"}),"\n",(0,o.jsxs)(n.p,{children:["The teardown process does ",(0,o.jsx)(n.strong,{children:"not"})," remove:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Your AWS account"}),"\n",(0,o.jsx)(n.li,{children:"Your Cloudflare account or DNS zone"}),"\n",(0,o.jsx)(n.li,{children:"Your local Docker installation"}),"\n",(0,o.jsx)(n.li,{children:"Source code or configuration files"}),"\n",(0,o.jsx)(n.li,{children:"Cloudflare API tokens"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"These remain under operator control."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"when-to-use-teardown",children:"When to Use Teardown"}),"\n",(0,o.jsx)(n.p,{children:"Teardown is recommended:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"When infrastructure may be compromised"}),"\n",(0,o.jsx)(n.li,{children:"Before changing AWS regions"}),"\n",(0,o.jsx)(n.li,{children:"Before major configuration changes"}),"\n",(0,o.jsx)(n.li,{children:"To stop incurring cloud costs"}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"teardown-and-state-management",children:"Teardown and State Management"}),"\n",(0,o.jsx)(n.p,{children:"Terraform state is used to track all resources."}),"\n",(0,o.jsx)(n.p,{children:"During teardown:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Terraform destroys all tracked resources"}),"\n",(0,o.jsx)(n.li,{children:"State is updated accordingly"}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{type:"caution",children:(0,o.jsx)(n.p,{children:"Do not manually delete AWS resources outside Terraform.\nThis can lead to orphaned state and cleanup issues."})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"common-teardown-issues",children:"Common Teardown Issues"}),"\n",(0,o.jsx)(n.p,{children:"Potential issues include:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Failed resource deletion due to permissions"}),"\n",(0,o.jsx)(n.li,{children:"Stale Terraform state"}),"\n",(0,o.jsx)(n.li,{children:"Interrupted destroy operations"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Most issues can be resolved by:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Re-running ",(0,o.jsx)(n.code,{children:"destroy.sh"})]}),"\n",(0,o.jsx)(n.li,{children:"Verifying AWS permissions"}),"\n",(0,o.jsxs)(n.li,{children:["Running ",(0,o.jsx)(n.code,{children:"terraform destroy -auto-approve"})," manually"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"redeployment-after-teardown",children:"Redeployment After Teardown"}),"\n",(0,o.jsx)(n.p,{children:"After teardown:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["You may safely re-run ",(0,o.jsx)(n.code,{children:"setup.sh"})]}),"\n",(0,o.jsx)(n.li,{children:"A fresh environment will be created"}),"\n",(0,o.jsx)(n.li,{children:"No prior state is reused"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Teardown followed by redeploy is the ",(0,o.jsx)(n.strong,{children:"supported recovery path"}),"."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,o.jsx)(n.p,{children:"Teardown provides:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Immediate removal of browser execution environments"}),"\n",(0,o.jsx)(n.li,{children:"Destruction of potentially compromised containers"}),"\n",(0,o.jsx)(n.li,{children:"Elimination of persistent state"}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,o.jsxs)(n.p,{children:["Continue to ",(0,o.jsx)(n.strong,{children:"Browsers"})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);