---
sidebar_position: 5
---

# Environment Variables

Open vBrowser (OvB) uses environment variables as the **single source of configuration truth** across all components. All services consume the same `.env` file generated during setup.

This document explains **every supported environment variable**, its purpose, and safe usage guidance.

---

## Configuration Model

OvB follows a strict configuration model:

- All configuration is stored in `.env`
- `.env` is generated by `setup.sh`
- The same `.env` file is propagated to all services
- No service-specific configuration files exist

This ensures consistency and predictable behavior.

---

## Core Application Settings

| Variable | Required | Description | Notes |
|-------|---------|------------|------|
| SECRET_KEY | Yes | Django cryptographic secret | Auto-generated |
| DEBUG | Yes | Enables debug mode | Must be False in production |
| CUSTOM_DOMAIN | Yes | Primary domain for OvB | Used for API and UI |
| ALLOWED_HOSTS | Yes | Django allowed hosts | Auto-generated |
| USER_EMAIL | Yes | Primary admin email | Auto-generated |
| LOGGER_ENABLED | Yes | Enables verbose logging | Use only for troubleshooting |
| DEFAULT_IDLE_THRESHOLD | Yes | Session idle timeout (minutes) | Auto-close inactive sessions |

---

## Admin User Configuration

| Variable | Required | Description |
|-------|---------|------------|
| DJANGO_SUPERUSER_USERNAME | Yes | Initial admin username |
| DJANGO_SUPERUSER_EMAIL | Yes | Initial admin email |
| DJANGO_SUPERUSER_PASSWORD | Yes | Initial admin password |

These credentials are created automatically on first startup.

---

## Database Configuration

OvB uses PostgreSQL for persistent state.

| Variable | Required | Description |
|-------|---------|------------|
| DB_NAME | Yes | Database name |
| DB_USER | Yes | Database username |
| DB_PASSWORD | Yes | Database password |
| DB_HOST | Yes | Database hostname |
| DB_PORT | Yes | Database port |

Database credentials are consumed only by backend services.

---

## Redis Configuration

Redis is used for **ephemeral coordination and caching**.

| Variable | Required | Description |
|-------|---------|------------|
| REDIS_URL | Yes | Redis connection string |

Redis does not store long-lived data.

---

## AWS Configuration

AWS credentials are required for Terraform and runtime services.

| Variable | Required | Description |
|-------|---------|------------|
| AWS_ACCESS_KEY_ID | Yes | AWS access key |
| AWS_SECRET_ACCESS_KEY | Yes | AWS secret key |
| AWS_DEFAULT_REGION | Yes | Deployment region |
| SUBNET_ID | Yes | Target subnet for ECS |
| SECURITY_GROUP_ID | Yes | Security group for ECS |
| ECR_REGISTRY | Yes | ECR registry URL |

:::caution
AWS credentials must be protected.
Do not commit `.env` files to version control.
:::

---

## Cloudflare Configuration

Cloudflare credentials are required for DNS automation.

| Variable | Required | Description |
|-------|---------|------------|
| CF_Zone_ID | Yes | Cloudflare zone identifier |
| CF_Token | Yes | Cloudflare API token |

:::important
The API token must have **Zone DNS Edit** permissions only.
:::

---

## Logging & Debugging Variables

| Variable | Description |
|-------|------------|
| LOGGER_ENABLED | Enables verbose logging |
| DEBUG | Enables Django debug mode |

:::caution
Verbose logging may expose sensitive metadata.
Disable logging in production unless troubleshooting.
:::

---

## Variable Propagation

The generated `.env` file is copied into:

- `django/.env`
- `docker/containers-update/.env`
- `docker/vbrowser-stack/.env`

No runtime service should diverge from this configuration.

---

## Safe Modification Guidelines

Operators should:

- Modify environment variables only via `setup.sh`
- Avoid manual edits unless necessary
- Re-run setup after major changes
- Perform teardown before sensitive changes

Misconfiguration can result in:
- Failed deployments
- Security exposure
- Unexpected runtime behavior

---

## Next Steps

After understanding configuration variables:

Continue to **Teardown**
